<!DOCTYPE html>

<html>
    <head>  
        <meta charset="UTF-8">
        <title>Opdracht 7</title>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js">
        </script>

    </head>
    <body>
        <div>
            <h1>Opdracht 7</h1>
            <h2>Even wachten voor de data verschijnt, log zeker ook in op de API voor de zekerheid.</h2>
            <table id="tabel">
                <tr>              
                    <th>Naam drone</th>
                    <th>Mac_adres drone</th>
                    <th>Location drone</th>
                    <th>id file</th>
                    <th>Eerste record</th>
                    <th>Laatste Record</th>
                </tr>
            </table>
        </div>
        <script>
            // via lijn  7 is jQuery geladen, kan nu dus gebruikt worden.
            var baselink = "https://web-ims.thomasmore.be/datadistribution/API/2.0/";
            var endlink = "?format=json";
            
            var settings = function(url){
                this.url = url;
                this.method="GET";
                this.dataType="json";
                this.headers = {
                    "authorization" : "Basic aW1zOno1MTJtVDRKeVgwUExXZw=="
                };
            };
            
            var drones_top_settings = new settings(baselink+"drones/"+endlink);
            $.ajax(drones_top_settings).done(function (drones) {
                drones.forEach(function (drones){   //deze foreach gaat al de 
                    var drones_id_settings = new settings(baselink+"drones/"+drones.id+endlink);
                    $.ajax(drones_id_settings).done(function (){
                      
                    });
                    
                });
            });
                
           
            
            
        


        </script>

    </body>
</html>